/**
 * Checkout Page Internationalization - ç»“ç®—é¡µé¢å›½é™…åŒ–
 * æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡çš„ç¿»è¯‘æ–‡æœ¬
 */

const checkoutTranslations = {
    zh: {
        logo: 'ðŸ›ï¸ æ—¶å°šæœè£…å•†åŸŽ',
        backToHome: 'â† è¿”å›žé¦–é¡µ',
        backToShop: 'â† è¿”å›žè´­ç‰©',
        checkoutInfo: 'ç»“ç®—ä¿¡æ¯',
        customerInfo: 'ðŸ‘¤ å®¢æˆ·ä¿¡æ¯',
        firstName: 'åå­—',
        lastName: 'å§“æ°',
        email: 'ç”µå­é‚®ç®±',
        shippingAddress: 'ðŸ“ æ”¶è´§åœ°å€',
        address: 'è¯¦ç»†åœ°å€',
        addressPlaceholder: 'è¡—é“åœ°å€',
        city: 'åŸŽå¸‚',
        state: 'å·ž/çœ',
        zipCode: 'é‚®æ”¿ç¼–ç ',
        country: 'å›½å®¶',
        selectCountry: 'é€‰æ‹©å›½å®¶',
        phone: 'è”ç³»ç”µè¯',
        paymentMethod: 'ðŸ’³ æ”¯ä»˜æ–¹å¼',
        creditCard: 'ä¿¡ç”¨å¡/å€Ÿè®°å¡',
        creditCardDesc: 'æ”¯æŒ Visa, MasterCard, American Express',
        paypalDesc: 'ä½¿ç”¨ PayPal è´¦æˆ·å®‰å…¨æ”¯ä»˜',
        confirmPay: 'ç¡®è®¤å¹¶æ”¯ä»˜',
        processing: 'å¤„ç†ä¸­...',
        orderSummary: 'è®¢å•æ‘˜è¦',
        quantity: 'æ•°é‡',
        subtotal: 'å•†å“å°è®¡:',
        shipping: 'è¿è´¹:',
        tax: 'ç¨Žè´¹ (8%):',
        orderTotal: 'è®¢å•æ€»è®¡:',
        cartEmpty: 'æ‚¨çš„è´­ç‰©è½¦æ˜¯ç©ºçš„',
        startShopping: 'å¼€å§‹è´­ç‰©',
        required: '*',
        fillCustomerInfo: 'è¯·å¡«å†™å®Œæ•´çš„å®¢æˆ·ä¿¡æ¯',
        fillShippingAddress: 'è¯·å¡«å†™å®Œæ•´çš„æ”¶è´§åœ°å€',
        invalidEmail: 'è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ç®±åœ°å€',
        paymentError: 'æ”¯ä»˜å¤±è´¥ï¼Œè¯·é‡è¯•',
        kakaoPay: 'Kakao Pay',
        kakaoPayDesc: 'ä½¿ç”¨ Kakao Pay å¿«é€Ÿæ”¯ä»˜',
        naverPay: 'Naver Pay',
        naverPayDesc: 'ä½¿ç”¨ Naver Pay å¿«é€Ÿæ”¯ä»˜',
        payco: 'Payco',
        paycoDesc: 'ä½¿ç”¨ Payco å¿«é€Ÿæ”¯ä»˜',
        toss: 'Toss',
        tossDesc: 'ä½¿ç”¨ Toss å¿«é€Ÿæ”¯ä»˜',
        onePageCheckout: 'ä¸€é¡µæ”¯ä»˜',
        onePageCheckoutDesc: 'å¯ç”¨ä¸€é¡µæ”¯ä»˜æ¨¡å¼ï¼Œç®€åŒ–ç»“ç®—æµç¨‹',
        billingAddress: 'ðŸ’° è´¦å•åœ°å€',
        sameAsShipping: 'è´¦å•åœ°å€åŒæ”¶è´§åœ°å€',
        fillBillingAddress: 'è¯·å¡«å†™å®Œæ•´çš„è´¦å•åœ°å€',
        cardNumber: 'å¡å·',
        cardNumberPlaceholder: '1234 5678 9012 3456',
        expiryDate: 'æœ‰æ•ˆæœŸ',
        expiryPlaceholder: 'MM/YY',
        cvv: 'CVV',
        cvvPlaceholder: '123',
        products: {
            1: { name: 'ç»å…¸ç™½è‰²Tæ¤' },
            2: { name: 'ä¿®èº«ç‰›ä»”è£¤' },
            3: { name: 'è¿žå¸½å«è¡£' },
            4: { name: 'è¿åŠ¨ä¼‘é—²è£¤' },
            5: { name: 'é’ˆç»‡å¼€è¡«' },
            6: { name: 'æ—¶å°šé£Žè¡£' },
            7: { name: 'çŸ­è¢–è¡¬è¡«' },
            8: { name: 'ä¼‘é—²çŸ­è£¤' }
        }
    },
    en: {
        logo: 'ðŸ›ï¸ Fashion Store',
        backToHome: 'â† Back to Home',
        backToShop: 'â† Back to Shop',
        checkoutInfo: 'Checkout Information',
        customerInfo: 'ðŸ‘¤ Customer Information',
        firstName: 'First Name',
        lastName: 'Last Name',
        email: 'Email',
        shippingAddress: 'ðŸ“ Shipping Address',
        address: 'Address',
        addressPlaceholder: 'Street Address',
        city: 'City',
        state: 'State/Province',
        zipCode: 'ZIP Code',
        country: 'Country',
        selectCountry: 'Select Country',
        phone: 'Phone',
        paymentMethod: 'ðŸ’³ Payment Method',
        creditCard: 'Credit/Debit Card',
        creditCardDesc: 'Supports Visa, MasterCard, American Express',
        paypalDesc: 'Pay securely with your PayPal account',
        confirmPay: 'Confirm and Pay',
        processing: 'Processing...',
        orderSummary: 'Order Summary',
        quantity: 'Qty',
        subtotal: 'Subtotal:',
        shipping: 'Shipping:',
        tax: 'Tax (8%):',
        orderTotal: 'Order Total:',
        cartEmpty: 'Your cart is empty',
        startShopping: 'Start Shopping',
        required: '*',
        fillCustomerInfo: 'Please fill in complete customer information',
        fillShippingAddress: 'Please fill in complete shipping address',
        invalidEmail: 'Please enter a valid email address',
        paymentError: 'Payment failed, please try again',
        kakaoPay: 'Kakao Pay',
        kakaoPayDesc: 'Pay quickly with Kakao Pay',
        naverPay: 'Naver Pay',
        naverPayDesc: 'Pay quickly with Naver Pay',
        payco: 'Payco',
        paycoDesc: 'Pay quickly with Payco',
        toss: 'Toss',
        tossDesc: 'Pay quickly with Toss',
        onePageCheckout: 'One-Page Checkout',
        onePageCheckoutDesc: 'Enable one-page checkout mode to simplify the checkout process',
        billingAddress: 'ðŸ’° Billing Address',
        sameAsShipping: 'Same as shipping address',
        fillBillingAddress: 'Please fill in complete billing address',
        cardNumber: 'Card Number',
        cardNumberPlaceholder: '1234 5678 9012 3456',
        expiryDate: 'Expiry Date',
        expiryPlaceholder: 'MM/YY',
        cvv: 'CVV',
        cvvPlaceholder: '123',
        products: {
            1: { name: 'Classic White T-Shirt' },
            2: { name: 'Slim Fit Jeans' },
            3: { name: 'Hooded Sweatshirt' },
            4: { name: 'Athletic Casual Pants' },
            5: { name: 'Knit Cardigan' },
            6: { name: 'Fashion Trench Coat' },
            7: { name: 'Short Sleeve Shirt' },
            8: { name: 'Casual Shorts' }
        }
    }
};

/**
 * Get current language from localStorage
 * @returns {string} Current language code ('zh' or 'en')
 */
function getCurrentLanguage() {
    return localStorage.getItem('language') || 'zh';
}

/**
 * Update all elements with data-i18n attribute
 * @param {string} lang - Language code
 */
function updateLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (checkoutTranslations[lang] && checkoutTranslations[lang][key]) {
            el.textContent = checkoutTranslations[lang][key];
        }
    });
}

/**
 * Get product name by ID
 * @param {number} productId - Product ID
 * @param {string} lang - Language code
 * @returns {string} Product name
 */
function getProductName(productId, lang) {
    return checkoutTranslations[lang]?.products[productId]?.name || 'Product ' + productId;
}

/**
 * Get translation by key
 * @param {string} key - Translation key
 * @param {string} lang - Language code
 * @returns {string} Translation text
 */
function getTranslation(key, lang) {
    return checkoutTranslations[lang]?.[key] || key;
}
